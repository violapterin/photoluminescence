<main class="document">
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">The settings</span> <code class="mono">.bash_profile</code> <span class="serif-roman">and</span> <code class="mono">.bashrc</code> <span class="serif-roman">have both similar roles and certain differences.</span></span> <span class="phrase"><span class="serif-roman">To understand this, we note that a shell can be either interactive or non-interactive, and that it can be either a login shell or a non-login shell.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">In an interactive shell, the user may type commands into it, execute them, and see the output.</span></span> <span class="phrase"><span class="serif-roman">A non-interactive shell doesn’t allow so.</span></span> <span class="phrase"><span class="serif-roman">When we enter the terminal app in Mac or Ubuntu, we are using an interactive shell.</span></span> <span class="phrase"><span class="serif-roman">When we run a shell script, however, a non-interactive shell is started to run it until the script finishes.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">A login shell requires the user to type username and password to log in,</span> <span class="serif-roman">but a non-login shell does not.</span></span> <span class="phrase"><span class="serif-roman">Therefore a login shell must be interactive.</span></span> <span class="phrase"><span class="serif-roman">Certainly, the shell explicitly created by logging in, in a terminal app instance, is a login shell.</span></span> <span class="phrase"><span class="serif-roman">Since the terminal app automatically logs in when starting up, it is a login shell.</span></span> <span class="phrase"><span class="serif-roman">Meanwhile, non-login shells include the new Bash instance the user invokes by calling</span> <code class="mono">/bin/bash</code> <span class="serif-roman">,</span> <span class="serif-roman">or another kind of shell, like Zsh.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Now, an interactive login shell reads</span> <code class="mono">.bash_profile</code><span class="serif-roman">,</span> <span class="serif-roman">while an interactive non-login shell reads</span> <code class="mono">.bashrc</code><span class="serif-roman">.</span></span> <span class="phrase"><span class="serif-roman">Default paths of</span> <code class="mono">.bash_profile</code> <span class="serif-roman">and</span> <code class="mono">.bashrc</code> <span class="serif-roman">are both the user’s home.</span></span> <span class="phrase"><span class="serif-roman">On the other hand, a non-interactive shell reads neither of them.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Actually there are</span> <code class="mono">/etc/profile</code><span class="serif-roman">,</span> <code class="mono">/etc/bash.bashrc</code><span class="serif-roman">,</span> <code class="mono">BASH_ENV</code><span class="serif-roman">,</span> <code class="mono">~/.bash_login</code><span class="serif-roman">,</span> <code class="mono">~/.bash_logout</code><span class="serif-roman">,</span> <span class="serif-roman">and</span> <code class="mono">~/.profile</code><span class="serif-roman">,</span> <span class="serif-roman">each with subtle differences due to historical reasons.</span></span> <span class="phrase"><span class="serif-roman">To me, the most reliable solution is that we put all settings into</span> <code class="mono">~/.bashrc</code><span class="serif-roman">,</span> <span class="serif-roman">and require</span> <code class="mono">~/.bash_profile</code> <span class="serif-roman">to source</span> <code class="mono">~/.bashrc</code> <span class="serif-roman">.</span></span>
</p>
</div>
<div class="break">
<span class="phrase">&emsp;</span> <span class="phrase">❦</span> <span class="phrase">&emsp;</span> <span class="phrase">❦</span> <span class="phrase">&emsp;</span> <span class="phrase">❦</span>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">❧</span> <em class="serif-italic">January 19, 2017</em></span>
</p>
</div>
</main>